"use strict";var state={user:"",playlist:""};function httpGetAsync(t,e){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4==n.readyState&&200==n.status){var t=n.responseText;e&&e(t)}},n.open("GET",t,!0),n.send(null)}function httpPostAsync(t,e,n){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4==a.readyState&&200==a.status){var t=a.responseText;n&&n(t)}},a.open("POST",t,!0),a.setRequestHeader("Content-Type","application/json"),a.send(JSON.stringify({payload:e}))}var kendall_user="kwatch90210",kendall_playlist="2nrEA3uA0oD23f5KuRUu7u",sam_user="smessina",getUserPlaylists=function(t){switch(t){case"sam":t=sam_user;break;case"kendall":t=kendall_user}httpGetAsync("/playlists?userId="+(state.user=t),function(t){updateUserPlaylistsView(JSON.parse(t).items)})},updateUserPlaylistsView=function(t){var e=['<button onclick="updateInitialView()">Back</button>'],n=!0,a=!1,s=void 0;try{for(var i,l=t[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var o=i.value;e.push('<p class="clickable" onclick="getPlaylistSongs(\''+o.id+"')\">"+o.name+"</p>")}}catch(t){a=!0,s=t}finally{try{n||null==l.return||l.return()}finally{if(a)throw s}}updateMainView(e.join(""))},getPlaylistSongs=function(t){state.playlist=t,httpGetAsync("/playlist?userId="+state.user+"&playlistId="+t,function(t){updatePlaylistSongsView(JSON.parse(t).items)})},updateInitialView=function(){updateMainView("\n       <button onclick=\"getUserPlaylists('sam')\">Sam</button>\n       <button onclick=\"getUserPlaylists('kendall')\">Kendall</button>\n  ")},updatePlaylistSongsView=function(t){var e=["<button onclick=\"getUserPlaylists('"+state.user+"')\">Back</button>"],n=!0,a=!1,s=void 0;try{for(var i,l=t[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var o=i.value;console.log(o);o.messinaId,o.description;e.push('<p class="clickable" onclick="playSong(\''+o.id+"')\">"+o.name+'</p>\n    <div id="embed-'+o.id+'"></div>\n                <label for="song-'+o.messinaId+'">description</label>\n                <input type="text" value="'+o.description+'" name="song-'+o.messinaId+'" id="song-'+o.messinaId+'"/>\n                <button onclick="setPlaylistSongs(\''+o.messinaId+"', document.getElementById('song-"+o.messinaId+"').value)\">Submit yo' shit</button>\n      ")}}catch(t){a=!0,s=t}finally{try{n||null==l.return||l.return()}finally{if(a)throw s}}updateMainView(e.join(""))},setPlaylistSongs=function(t,e){httpPostAsync("/playlist",[{id:t,description:e}],function(t){})},updateMainView=function(t){document.querySelectorAll("main#main")[0].innerHTML=t},playSong=function(t){var e='<iframe src="https://open.spotify.com/embed/track/'+t+'" width="300" height="380" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe>';document.querySelectorAll("#embed-"+t)[0].innerHTML=e};console.log("asfd");
//# sourceMappingURL=main.min.js.map
