"use strict";var state={user:"",playlist:""};function httpGetAsync(t,e){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4==n.readyState&&200==n.status){var t=n.responseText;e&&e(t)}},n.open("GET",t,!0),n.send(null)}function httpPostAsync(t,e,n){var s=new XMLHttpRequest;s.onreadystatechange=function(){if(4==s.readyState&&200==s.status){var t=s.responseText;n&&n(t)}},s.open("POST",t,!0),s.setRequestHeader("Content-Type","application/json"),s.send(JSON.stringify({payload:e}))}var kendall_user="kwatch90210",kendall_playlist="2nrEA3uA0oD23f5KuRUu7u",sam_user="smessina",getUserPlaylists=function(t){switch(t){case"sam":t=sam_user;break;case"kendall":t=kendall_user}httpGetAsync("/playlists?userId="+(state.user=t),function(t){updateUserPlaylistsView(JSON.parse(t).items)})},updateUserPlaylistsView=function(t){var e=['<button onclick="updateInitialView()">Back</button>'],n=!0,s=!1,a=void 0;try{for(var i,l=t[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var o=i.value;e.push('<p class="clickable" onclick="getPlaylistSongs(\''+o.id+"')\">"+o.name+"</p>")}}catch(t){s=!0,a=t}finally{try{n||null==l.return||l.return()}finally{if(s)throw a}}updateMainView(e.join(""))},getPlaylistSongs=function(t){state.playlist=t,httpGetAsync("/playlist?userId="+state.user+"&playlistId="+t,function(t){updatePlaylistSongsView(JSON.parse(t).items)})},updateInitialView=function(){updateMainView("\n       <button onclick=\"getUserPlaylists('sam')\">Sam</button>\n       <button onclick=\"getUserPlaylists('kendall')\">Kendall</button>\n  ")},updatePlaylistSongsView=function(t){var e=["<button onclick=\"getUserPlaylists('"+state.user+"')\">Back</button>"],n=!0,s=!1,a=void 0;try{for(var i,l=t[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var o=i.value;o.messinaId,o.description;e.push('<p><a href="#" target="_blank">'+o.name+'</a></p>\n                <label for="song-'+o.messinaId+'">description</label>\n                <input type="text" value="'+o.description+'" name="song-'+o.messinaId+'" id="song-'+o.messinaId+'"/>\n                <button onclick="setPlaylistSongs(\''+o.messinaId+"', document.getElementById('song-"+o.messinaId+"').value)\">Submit yo' shit</button>\n      ")}}catch(t){s=!0,a=t}finally{try{n||null==l.return||l.return()}finally{if(s)throw a}}updateMainView(e.join(""))},setPlaylistSongs=function(t,e){httpPostAsync("/playlist",[{id:t,description:e}],function(t){})},updateMainView=function(t){document.querySelectorAll("main#main")[0].innerHTML=t};console.log("asfd");
//# sourceMappingURL=main.min.js.map
